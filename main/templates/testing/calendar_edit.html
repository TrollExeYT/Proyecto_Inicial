{% extends 'base.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/testing_calendar_edit.css' %}">
    <link rel="stylesheet" href="{% static 'css/testing_calendar_elements.css' %}">
{% endblock %}

{% block left-bar %}
    <p>{{ calendar_info }}</p>
{% endblock %}

{% block right-bar %}
    <ul class="nav justify-content-end">
  <li class="nav-item">
    <a class="nav-link active" aria-current="page" href="{% url 'clean_calendar' calendar_info.id %}">Limpiar Calendario</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{% url 'confirm_events' calendar_info.id %}">Confirmar</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{% url 'view_calendar' calendar_info.id 0 %}">Volver</a>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="{% url 'undo_events' calendar_info.id %}">Deshacer cambio</a>
  </li>
</ul>

{% endblock %}

{% block content %}
    <div class="main-calendar-container centered">
        {% include calendar_comp %}
    </div>
    <div class="events-container centered">
        <p class="event-element">Eventos</p>
        <ul>
            {% for event in events %}
                <li class="event-element event-block" data-id="{{ event.id}}" draggable="true">
                    <img src="{{ event.photo.url }}" alt="{{ event.name }}" height="60px" width="60px">
                </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}

{% block hidden %}
    <form action="{% url 'add_event' calendar_info.id type_view %}" method="POST" id="form-event_connector">
        {% csrf_token %}
        {{ form }}
    </form>
    <script src="{% static 'js/testing_edit_calendar.js' %}"></script>
{% endblock %}
