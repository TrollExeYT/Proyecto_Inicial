{% extends 'base.html' %}
{% load static %}

{% block head %}
    <link rel="stylesheet" href="{% static 'css/testing_calendar_edit.css' %}">
    <link rel="stylesheet" href="{% static 'css/testing_calendar_elements.css' %}">
{% endblock %}

{% block left-bar %}
    <p>{{ calendar_info }}</p>
{% endblock %}

{% block right-bar %}
    <p><a href="{% url 'clean_calendar' calendar_info.id %}">Limpiar Calendario</a></p>
	<p><a href="{% url 'undo_events' calendar_info.id %}">Deshacer cambios</a></p>
    <p><a href="{% url 'confirm_events' calendar_info.id %}">Confirmar</a></p>
    <p><a href="{% url 'view_calendar' calendar_info.id %}">Volver</a></p>
{% endblock %}

{% block content %}
    <div class="main-calendar-container centered">
        <div class="calendar-main-container">
            {% for day in days_info %}
                <div class="calendar-day-block">
                    <p class="calendar-day-title">{{ day.0 }}</p>
                    {% for event in day.1 %}
                        <p class="calendar-block" data-day="{{ event.1.0 }}" data-group="{{ event.1.1 }}" data-division="{{ event.1.2 }}">
                            <img src="{% static event.0.photo_path %}" alt="{{ event.0 }}" height="32px" width="32px">
                        </p>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
    </div>
    <div class="events-container centered">
        <p class="event-element">Eventos</p>
        <ul>
            {% for event in events %}
                <li class="event-element event-block" data-id="{{ event.id}}" draggable="true">
                    <img src="{% static event.photo_path %}" alt="{{ event.name }}" height="32px" width="32px">
                </li>
            {% endfor %}
        </ul>
    </div>
{% endblock %}

{% block hidden %}
    <form action="{% url 'add_event' calendar_info.id %}" method="POST" id="form-event_connector">
        {% csrf_token %}
        {{ form }}
    </form>
    <script src="{% static 'js/testing_edit_calendar.js' %}"></script>
{% endblock %}
